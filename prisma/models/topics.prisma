model Topic {
  id             String   @id @default(cuid())
  guildSnowflake String
  summary        String   @db.Text
  createdAt      DateTime @default(now())

  guild    Guild     @relation(fields: [guildSnowflake], references: [snowflake])
  messages Message[]
}

model Message {
  guildSnowflake   String
  channelSnowflake String
  messageSnowflake String
  topicId          String
  createdAt        DateTime @default(now())

  guild Guild @relation(fields: [guildSnowflake], references: [snowflake])
  topic Topic @relation(fields: [topicId], references: [id])

  @@id([guildSnowflake, channelSnowflake, messageSnowflake, topicId])
}
