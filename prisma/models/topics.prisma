model Topic {
  id             String    @id @default(cuid())
  guildSnowflake String
  name           String
  summary        String
  createdAt      DateTime  @default(now())
  messages       Message[]
  guild          Guild     @relation(fields: [guildSnowflake], references: [snowflake])
}

model Message {
  guildSnowflake   String
  channelSnowflake String
  messageSnowflake String
  topicId          String
  createdAt        DateTime @default(now())
  guild            Guild    @relation(fields: [guildSnowflake], references: [snowflake])
  topic            Topic    @relation(fields: [topicId], references: [id])

  @@id([guildSnowflake, channelSnowflake, messageSnowflake, topicId])
}
